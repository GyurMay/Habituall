{"ast":null,"code":"import _slicedToArray from\"/Users/gyurmeydorj/Habituall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef}from\"react\";import Calendar from\"react-calendar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CalendarComp=function CalendarComp(props){var _document$querySelect,_document$querySelect2;var calendarStyle=props.calendarStyle,createDate=props.createDate,dueDate=props.dueDate;var _props$calendarState=_slicedToArray(props.calendarState,2),calendarVal=_props$calendarState[0],calendarChange=_props$calendarState[1];// const [calendarStyle, setCalendarStyle] = props.calendarStyle;\nvar ref=useRef(null);var stickify=function stickify(){var calendarDiv=ref.current;var makeBreakBox=document.querySelector(\"#makeBreakBox\");if(!calendarDiv||!makeBreakBox)return;console.log(window.scrollY,\";;\",calendarDiv.offsetTop);var makeBreakBoxBottom=makeBreakBox.offsetTop+makeBreakBox.getBoundingClientRect().height+50;if(window.scrollY>=makeBreakBoxBottom){calendarDiv.classList.add('sticky');}else{calendarDiv.classList.remove('sticky');}};useEffect(function(){window.addEventListener('scroll',stickify);return function(){window.removeEventListener('scroll',stickify);};},[]);useEffect(function(){var makeBreakBox=document.querySelector(\"#makeBreakBox\");if(makeBreakBox){ref.current.style.top=makeBreakBox.offsetTop+makeBreakBox.getBoundingClientRect().height+50+'px';}},[calendarVal,createDate,dueDate]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:\"calendar\",style:{top:((_document$querySelect=document.querySelector(\"#makeBreakBox\"))===null||_document$querySelect===void 0?void 0:_document$querySelect.offsetTop)+((_document$querySelect2=document.querySelector(\"#makeBreakBox\"))===null||_document$querySelect2===void 0?void 0:_document$querySelect2.getBoundingClientRect().height)+50+'px'},children:[/*#__PURE__*/_jsx(\"style\",{children:calendarStyle}),/*#__PURE__*/_jsx(Calendar,{onChange:calendarChange,value:[createDate,dueDate]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calendarInfo\",children:[\"Whats this? \\uD83D\\uDCAD \\uD83D\\uDCAD\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{color:'green'},children:\"[12]\"}),\" - marked done with a note \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:\"[12]\"}),\" - marked not done with a note\"]})]})});};export{CalendarComp};","map":{"version":3,"names":["useEffect","useRef","Calendar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CalendarComp","props","_document$querySelect","_document$querySelect2","calendarStyle","createDate","dueDate","_props$calendarState","_slicedToArray","calendarState","calendarVal","calendarChange","ref","stickify","calendarDiv","current","makeBreakBox","document","querySelector","console","log","window","scrollY","offsetTop","makeBreakBoxBottom","getBoundingClientRect","height","classList","add","remove","addEventListener","removeEventListener","style","top","children","className","onChange","value","color"],"sources":["/Users/gyurmeydorj/Habituall/client/src/components/CalendarComp.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport Calendar from \"react-calendar\";\n\nconst CalendarComp = props => {\n    const {calendarStyle, createDate, dueDate } = props;\n    const [calendarVal, calendarChange] = props.calendarState;\n    // const [calendarStyle, setCalendarStyle] = props.calendarStyle;\n    const ref = useRef(null);\n  \n    const stickify = () => {\n      const calendarDiv = ref.current;\n      const makeBreakBox = document.querySelector(\"#makeBreakBox\");\n      \n      if (!calendarDiv || !makeBreakBox) return;\n  \n      console.log(window.scrollY, \";;\", calendarDiv.offsetTop);\n  \n      const makeBreakBoxBottom = makeBreakBox.offsetTop + makeBreakBox.getBoundingClientRect().height + 50;\n  \n      if (window.scrollY >= makeBreakBoxBottom) {\n        calendarDiv.classList.add('sticky');\n      } else {\n        calendarDiv.classList.remove('sticky');\n      }\n    };\n  \n    useEffect(() => {\n      window.addEventListener('scroll', stickify);\n  \n      return () => {\n        window.removeEventListener('scroll', stickify);\n      };\n    }, []);\n  \n    useEffect(() => {\n      const makeBreakBox = document.querySelector(\"#makeBreakBox\");\n      if (makeBreakBox) {\n        ref.current.style.top = makeBreakBox.offsetTop + makeBreakBox.getBoundingClientRect().height + 50 + 'px';\n      }\n    }, [calendarVal, createDate, dueDate]); \n  \n    return (\n    <>\n    <div ref={ref} className=\"calendar\" style={{top: document.querySelector(\"#makeBreakBox\")?.offsetTop + document.querySelector(\"#makeBreakBox\")?.getBoundingClientRect().height + 50+'px'}}>\n      <style>\n        {calendarStyle}\n      </style>\n      <Calendar onChange={calendarChange} value={[createDate, dueDate]}/>\n      \n    <div className=\"calendarInfo\">\n      Whats this? ðŸ’­ ðŸ’­<br />\n      <span style={{color:'green'}}>[12]</span> - marked done with a note <br />\n      <span style={{color:'red'}}>[12]</span> - marked not done with a note\n    </div>\n    </div>\n    </>\n    )\n  }\n  \n  export {CalendarComp}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}