{"ast":null,"code":"var _jsxFileName = \"/Users/gyurmeydorj/Habituall/client/src/components/NavBar.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"../index.css\";\nimport TrashIcon from \"./icons/TrashIcon\";\nimport { Link, json, useNavigate, useParams } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport AuthButton from \"../components/AuthButton\";\nimport { backendAPI } from \"../clientDotEnv\";\nimport { useSharedContext } from \"../context/SharedContext\";\nimport habitService from \"../services/habitService\";\n// import habitService from \"../../services/habitService\";\n\n// backendAPI = a.backendAPI;\n// const habitDB = [\n//     [100, \"Jog everyday\", \"Daily junk food\"],\n//     [101, \"50 pushups daily\", \"idling away time\"],\n//     [102, \"3 miles running\", \"improve cardio endurance\"]\n//     ];\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet auth;\nlet host = backendAPI;\nconst ExpandMenuBtn = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"hamburger-expand-btn\",\n    onClick: () => openNav(),\n    className: \"position-absolute start-0\",\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"60px\",\n      height: \"60px\",\n      viewBox: \"0 0 512 512\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        fill: \"#000\",\n        d: \"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 102\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n};\n_c = ExpandMenuBtn;\nfunction openNav() {\n  document.getElementById(\"mySidenav\").style.width = \"300px\";\n  document.getElementById(\"main\").style.marginLeft = \"300px\";\n}\nfunction closeNav() {\n  document.getElementById(\"main\").style.marginLeft = \"0\";\n  document.getElementById(\"mySidenav\").style.width = \"0\";\n  if (document.querySelector(\"#new-in-val\") != undefined) {\n    document.querySelector(\"#new-in-val\").remove();\n  }\n}\nconst NavBarInside = props => {\n  _s();\n  // const [navOpened, setNavOpened] = useState(false);\n  const navigate = useNavigate();\n  const [navError, setNavError] = useState(false);\n  // const [navLinks, setNavLinks] = useState([]);\n  const {\n    navLinks,\n    setNavLinks\n  } = useSharedContext();\n  // const {currHabit, setCurrHabit} = useSharedContext();\n  const [currHabit, setCurrHabit] = useState({});\n  window.onkeydown = e => {\n    if (e.key === \"Enter\" && document.querySelector('#new-in-val') !== null) {\n      console.log('creating /create/' + document.querySelector(\"#new-in-val\").value);\n      navigate('/create/' + document.querySelector(\"#new-in-val\").value);\n      document.querySelector('#new-in-val').remove();\n    }\n  };\n  const makeHabit = parseInt(document.location.href.split(\"/habits/\")[1] || 100); // !== undefined ? document.location.href.split(\"/habits/\")[1] : '100');\n\n  //move to shared context\n  //   useEffect(() => {\n  //     let habits = [];\n  //     fetch(host+'/api/habits', {credentials: \"include\"})\n  //         .then(a => {\n\n  //             if(!a.ok){\n  //                 setNavError(true); \n  //                 return\n  //             }\n  //             return a.json();\n  //         })\n  //         .then(jsonObj => {\n  //             /**\n  //              * response looks like this:\n  //              * {\n  //              * message: \"docs fetched\",\n  //              * _id: \"\",\n  //              * habits: {habits: [{..}, {..}], userId: \"\" }\n  //              * }\n  //              */\n  //             habits = [...jsonObj.habits.habits];\n  //             setNavLinks(habits);\n  //             console.log(navLinks, \"userDB2\");\n  //         })\n  //         .catch(e => {\n  //             throw new Error(e);\n  //         });\n  //         console.log(habits,\"habits..\")\n  // }, []); //commented\n\n  //   useEffect(() => {\n  //     setCurrHabit(navLinks.find(x => x.makeHabit === makeHabit) ? navLinks.find(x => x.makeHabit === makeHabit) : []);\n  //     console.log(\"uf\", navLinks)\n  // }, [navLinks]);\n\n  console.log(navLinks, \"navLinks after useEffect()\");\n  useEffect(() => {\n    setCurrHabit(navLinks.find(x => x.makeHabit === makeHabit) ? navLinks.find(x => x.makeHabit === makeHabit) : ['null']);\n    console.log(\"sc\", currHabit, navLinks);\n  }, [navLinks]);\n\n  //   useEffect(() => {\n  //     // setCurrHabit()\n  //     setCurrHabit(currHabit)\n  //   },[navLinks]);\n  //   console.log(\"useParams\", useParams())\n\n  // console.log(\"navlink1\",(navLinks),\"currHabit\", currHabit);\n\n  const [newHabitInput, setNewHabitInput] = useState(false);\n  const ProfileLink = props => {\n    return (\n      /*#__PURE__*/\n      // {{console.log(document.location.pathname)}\n      _jsxDEV(\"div\", {\n        className: 'navList ' + props.active,\n        onClick: () => setCurrHabit(0),\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    );\n  };\n  useEffect(() => {\n    openNav();\n  }, []);\n  useEffect(() => {\n    console.log(\"cf\", currHabit);\n  }, [currHabit]);\n  // const userDB = {};\n\n  // const habitDB = [];\n  // userDB.habits.forEach(x => {\n  //         habitDB.push([x.makeHabit,\n  //                     x.makeHabit,\n  //                     x.breakHabit]);\n  //     });\n\n  function addNewTask() {\n    if (document.querySelector('#new-in-val') !== null) document.querySelector('#new-in-val').focus();else if (!newHabitInput) {\n      let ina = document.createElement(\"input\");\n      ina.id = \"new-in-val\";\n      ina.placeholder = \"new name here\";\n      document.querySelector(\"#navHabitList\").insertBefore(ina, document.querySelector(\"#navHabitList\").children[document.querySelector(\"#navHabitList\").childElementCount - 1]);\n      ina.focus();\n      setNewHabitInput(true);\n    }\n    setNewHabitInput(false);\n  }\n  const deleteHabit = makeHabit => {\n    console.log(\"deleteHabit\", \" here\");\n    const newNavLinks = [...navLinks];\n    newNavLinks.splice(newNavLinks.findIndex(x => x.makeHabit === makeHabit), 1);\n    const makeDeleteRequest = async () => {\n      const resp = await habitService.deleteHabit(makeHabit); // update the array without the current one\n\n      if (!resp.ok) return;\n      if (resp.ok) {\n        console.log(\"resp.ok\", newNavLinks);\n        setNavLinks(newNavLinks);\n      }\n    };\n    makeDeleteRequest();\n  };\n  const FeedLink = props => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navList \" + (document.location.pathname === '/' ? \"active currHabit\" : ''),\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Feed\"\n      }, \"feed\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this);\n  };\n  return !navError ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mySidenav\",\n      className: \"sidenav\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"addBtn\",\n        onClick: () => addNewTask(),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"closebtn\",\n        onClick: () => closeNav(),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"navHabitList\",\n        children: [/*#__PURE__*/_jsxDEV(FeedLink, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), navLinks.map(h => h[0] !== 'null' &&\n        /*#__PURE__*/\n        //if not current habit then class=inactive else class=\"active currHabit\"\n        // console.log(h[0]) ||\n        // (<script>{console.log(currHabit.makeHabit ,\"hbi\")}</script>)+\n        _jsxDEV(\"div\", {\n          id: h.makeHabit,\n          className: \"navList \" + (decodeURIComponent(document.location.pathname).includes(h.makeHabit) ? \"active currHabit\" : ''),\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/habits/\" + h.makeHabit,\n            onClick: () => setCurrHabit(h),\n            children: h.makeHabit\n          }, h.makeHabit, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(TrashIcon, {\n            onClick: () => deleteHabit(h.makeHabit)\n          }, h.makeHabit + \"-del\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(ProfileLink, {\n          active: document.location.pathname === \"/profile\" ? 'active currHabit' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AuthButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ExpandMenuBtn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-red\",\n    children: \"Error: Couldnt load list\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n};\n_s(NavBarInside, \"Tp60EeOObdFyjb/NP7ctzLYKczc=\", false, function () {\n  return [useNavigate, useSharedContext];\n});\n_c2 = NavBarInside;\nconst NavBar = props => {\n  _s2();\n  auth = useAuth();\n  if (!auth.isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n  // console.log(\"authenticated in navbar\", auth.isAuthenticated, (new Date()).getMilliseconds());\n  return /*#__PURE__*/_jsxDEV(NavBarInside, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 14\n  }, this);\n};\n// openNav();\n_s2(NavBar, \"aXa0DhOnbpb+WuJfaBQuXhXHp4U=\", false, function () {\n  return [useAuth];\n});\n_c3 = NavBar;\nexport { NavBar, ExpandMenuBtn };\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ExpandMenuBtn\");\n$RefreshReg$(_c2, \"NavBarInside\");\n$RefreshReg$(_c3, \"NavBar\");","map":{"version":3,"names":["React","useEffect","useState","TrashIcon","Link","json","useNavigate","useParams","useAuth","AuthButton","backendAPI","useSharedContext","habitService","jsxDEV","_jsxDEV","Fragment","_Fragment","auth","host","ExpandMenuBtn","props","id","onClick","openNav","className","children","width","height","viewBox","xmlns","fill","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","document","getElementById","style","marginLeft","closeNav","querySelector","undefined","remove","NavBarInside","_s","navigate","navError","setNavError","navLinks","setNavLinks","currHabit","setCurrHabit","window","onkeydown","e","key","console","log","value","makeHabit","parseInt","location","href","split","find","x","newHabitInput","setNewHabitInput","ProfileLink","active","to","addNewTask","focus","ina","createElement","placeholder","insertBefore","childElementCount","deleteHabit","newNavLinks","splice","findIndex","makeDeleteRequest","resp","ok","FeedLink","pathname","map","h","decodeURIComponent","includes","_c2","NavBar","_s2","isAuthenticated","_c3","$RefreshReg$"],"sources":["/Users/gyurmeydorj/Habituall/client/src/components/NavBar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"../index.css\"; \nimport TrashIcon from \"./icons/TrashIcon\";\nimport { Link, json, useNavigate, useParams } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport AuthButton from \"../components/AuthButton\";\nimport { backendAPI } from \"../clientDotEnv\";\nimport { useSharedContext } from \"../context/SharedContext\";\nimport habitService from \"../services/habitService\";\n// import habitService from \"../../services/habitService\";\n\n// backendAPI = a.backendAPI;\n// const habitDB = [\n//     [100, \"Jog everyday\", \"Daily junk food\"],\n//     [101, \"50 pushups daily\", \"idling away time\"],\n//     [102, \"3 miles running\", \"improve cardio endurance\"]\n//     ];\n\nlet auth;\nlet host = backendAPI;\n\nconst ExpandMenuBtn = (props) => {\n    return (\n        <div id=\"hamburger-expand-btn\" onClick={() => openNav()} className=\"position-absolute start-0\">\n            <svg width=\"60px\" height=\"60px\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#000\" d=\"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z\" /></svg>\n        </div>\n    );\n};\n\nfunction openNav() { document.getElementById(\"mySidenav\").style.width = \"300px\"; document.getElementById(\"main\").style.marginLeft = \"300px\"; }\nfunction closeNav() { document.getElementById(\"main\").style.marginLeft = \"0\"; document.getElementById(\"mySidenav\").style.width = \"0\"; if(document.querySelector(\"#new-in-val\") != undefined){     document.querySelector(\"#new-in-val\").remove(); } }\n\nconst NavBarInside = (props) => {\n    // const [navOpened, setNavOpened] = useState(false);\n    const navigate = useNavigate();\n    const [navError, setNavError] = useState(false);\n    // const [navLinks, setNavLinks] = useState([]);\n    const {navLinks, setNavLinks} = useSharedContext();\n    // const {currHabit, setCurrHabit} = useSharedContext();\n    const [currHabit, setCurrHabit] = useState({});\n    \n\n     window.onkeydown = (e) => {\n        if(e.key === \"Enter\" && document.querySelector('#new-in-val') !== null){\n            console.log('creating /create/' + document.querySelector(\"#new-in-val\").value);\n            navigate('/create/' + document.querySelector(\"#new-in-val\").value);\n            document.querySelector('#new-in-val').remove();\n        }   \n      }\n      const makeHabit = parseInt(document.location.href.split(\"/habits/\")[1] || 100) // !== undefined ? document.location.href.split(\"/habits/\")[1] : '100');\n\n\n    //move to shared context\n    //   useEffect(() => {\n    //     let habits = [];\n    //     fetch(host+'/api/habits', {credentials: \"include\"})\n    //         .then(a => {\n\n    //             if(!a.ok){\n    //                 setNavError(true); \n    //                 return\n    //             }\n    //             return a.json();\n    //         })\n    //         .then(jsonObj => {\n    //             /**\n    //              * response looks like this:\n    //              * {\n    //              * message: \"docs fetched\",\n    //              * _id: \"\",\n    //              * habits: {habits: [{..}, {..}], userId: \"\" }\n    //              * }\n    //              */\n    //             habits = [...jsonObj.habits.habits];\n    //             setNavLinks(habits);\n    //             console.log(navLinks, \"userDB2\");\n    //         })\n    //         .catch(e => {\n    //             throw new Error(e);\n    //         });\n    //         console.log(habits,\"habits..\")\n    // }, []); //commented\n\n    //   useEffect(() => {\n    //     setCurrHabit(navLinks.find(x => x.makeHabit === makeHabit) ? navLinks.find(x => x.makeHabit === makeHabit) : []);\n    //     console.log(\"uf\", navLinks)\n    // }, [navLinks]);\n    \nconsole.log(navLinks, \"navLinks after useEffect()\")\n  useEffect(() => {\n    setCurrHabit(navLinks.find(x => x.makeHabit === makeHabit) ? navLinks.find(x => x.makeHabit === makeHabit) : ['null']);\n    console.log(\"sc\", currHabit, navLinks)\n  }, [navLinks]);\n\n//   useEffect(() => {\n//     // setCurrHabit()\n//     setCurrHabit(currHabit)\n//   },[navLinks]);\n//   console.log(\"useParams\", useParams())\n\n    // console.log(\"navlink1\",(navLinks),\"currHabit\", currHabit);\n\n    const [newHabitInput, setNewHabitInput] = useState(false);\n\n    const ProfileLink = (props) => {\n        return (\n            // {{console.log(document.location.pathname)}\n        <div className={'navList ' + props.active} onClick={() => setCurrHabit(0)}>\n            <Link to='/profile' >Profile</Link>\n        </div>\n        );\n    }\n\n    useEffect(() => {\n        openNav();\n    }, []);\n\n\n    useEffect(() => {\n        console.log(\"cf\", currHabit);\n    }, [currHabit])\n    // const userDB = {};\n\n    // const habitDB = [];\n    // userDB.habits.forEach(x => {\n    //         habitDB.push([x.makeHabit,\n    //                     x.makeHabit,\n    //                     x.breakHabit]);\n    //     });\n \n    function addNewTask(){\n        if(document.querySelector('#new-in-val') !== null)\n            document.querySelector('#new-in-val').focus();\n        else if(!newHabitInput){\n            let ina = document.createElement(\"input\");\n            ina.id = \"new-in-val\";\n            ina.placeholder = \"new name here\";\n            document.querySelector(\"#navHabitList\").insertBefore(ina, document.querySelector(\"#navHabitList\").children[document.querySelector(\"#navHabitList\").childElementCount - 1]);\n            ina.focus();\n            setNewHabitInput(true);\n        }\n        setNewHabitInput(false)\n    }\n    const deleteHabit = (makeHabit) => {\n        console.log(\"deleteHabit\", \" here\")\n        const newNavLinks = [...navLinks];\n        newNavLinks.splice(newNavLinks.findIndex(x => x.makeHabit === makeHabit), 1);\n        \n        const makeDeleteRequest = async () => {\n            const resp = await habitService.deleteHabit(makeHabit); // update the array without the current one\n            \n            if(!resp.ok) return;\n            if(resp.ok){\n            console.log(\"resp.ok\", newNavLinks)\n            setNavLinks(newNavLinks);\n            }\n        }\n        makeDeleteRequest();\n    }\n    const FeedLink = props => {\n        return (\n            <div className={\"navList \" + ((document.location.pathname === '/' ? \"active currHabit\" : '')) }>\n                <Link key=\"feed\" to=\"/\">Feed</Link>\n            </div> \n        );\n    }\n    return (\n        !navError ? \n        <>\n        <div id=\"mySidenav\" className=\"sidenav\">\n            <button className=\"addBtn\" onClick={() => addNewTask()}>+</button>\n            <button className=\"closebtn\" onClick={() => closeNav()}>&times;</button>\n            <div id=\"navHabitList\">\n            <FeedLink />\n                {\n                    navLinks.map(h => (h[0] !== 'null' && (\n                        //if not current habit then class=inactive else class=\"active currHabit\"\n                        // console.log(h[0]) ||\n                        // (<script>{console.log(currHabit.makeHabit ,\"hbi\")}</script>)+\n                        <div id={h.makeHabit} className={\"navList \" + ((decodeURIComponent(document.location.pathname).includes(h.makeHabit) ? \"active currHabit\" : '')) }>\n                            <Link key={h.makeHabit} to={\"/habits/\"+h.makeHabit} onClick={() => setCurrHabit(h)}>\n                                {h.makeHabit}\n                            </Link> {/*if 22 is set to 0 then the a[href] for profile will be /profile */}\n                            <TrashIcon onClick={() => deleteHabit(h.makeHabit)} key={h.makeHabit+\"-del\"} />\n                        </div>\n                        )\n                    ))\n                }\n                <ProfileLink active={document.location.pathname === \"/profile\" ? 'active currHabit' : ''} />\n                <AuthButton />\n            </div>\n        </div>\n        <ExpandMenuBtn />\n        </>\n        :\n        <div className=\"text-red\">Error: Couldnt load list</div>\n        );\n  };\n  const NavBar = (props) => {\n\n    auth = useAuth();\n    if(!auth.isAuthenticated){\n        return <></>\n    }\n\n    // console.log(\"authenticated in navbar\", auth.isAuthenticated, (new Date()).getMilliseconds());\n    return  (<NavBarInside />)\n}\n// openNav();\n  export {NavBar, ExpandMenuBtn};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}