{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gyurmeydorj/Habituall/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gyurmeydorj/Habituall/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gyurmeydorj/Habituall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import FeedPost from\"../components/FeedPost\";import habitService from\"../services/habitService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Feed(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),feed=_useState2[0],setFeed=_useState2[1];useEffect(function(){var getFeed=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _data$allHabits$;var resp,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return habitService.getFeed();case 2:resp=_context.sent;_context.next=5;return resp.json();case 5:data=_context.sent;setFeed(data===null||data===void 0?void 0:(_data$allHabits$=data.allHabits[0])===null||_data$allHabits$===void 0?void 0:_data$allHabits$.combinedHabits.sort(function(x){return new Date(x.habit.createDate).getTime();}));case 7:case\"end\":return _context.stop();}},_callee);}));return function getFeed(){return _ref.apply(this,arguments);};}();getFeed();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:feed===null||feed===void 0?void 0:feed.map(function(habit){return/*#__PURE__*/_jsx(FeedPost,{habit:habit});})});};","map":{"version":3,"names":["useEffect","useState","FeedPost","habitService","jsx","_jsx","Fragment","_Fragment","Feed","props","_useState","_useState2","_slicedToArray","feed","setFeed","getFeed","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_data$allHabits$","resp","data","wrap","_callee$","_context","prev","next","sent","json","allHabits","combinedHabits","sort","x","Date","habit","createDate","getTime","stop","apply","arguments","children","map"],"sources":["/Users/gyurmeydorj/Habituall/client/src/pages/Feed.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport FeedPost from \"../components/FeedPost\";\r\nimport habitService from \"../services/habitService\";\r\n\r\nexport default function Feed(props){\r\n    const [feed, setFeed] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const getFeed = async () => {\r\n            const resp = await habitService.getFeed();\r\n            const data = await resp.json();\r\n            setFeed(data?.allHabits[0]?.combinedHabits.sort(x => new Date(x.habit.createDate).getTime()));\r\n        }\r\n        getFeed();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n            feed?.map(habit => <FeedPost habit={habit} />)\r\n            }\r\n        </>\r\n    )\r\n};"],"mappings":"2XAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,YAAY,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpD,cAAe,SAAS,CAAAC,IAAIA,CAACC,KAAK,CAAC,CAC/B,IAAAC,SAAA,CAAwBT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpBX,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAe,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,gBAAA,KAAAC,IAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACO,CAAAzB,YAAY,CAACY,OAAO,CAAC,CAAC,QAAnCO,IAAI,CAAAI,QAAA,CAAAG,IAAA,CAAAH,QAAA,CAAAE,IAAA,SACS,CAAAN,IAAI,CAACQ,IAAI,CAAC,CAAC,QAAxBP,IAAI,CAAAG,QAAA,CAAAG,IAAA,CACVf,OAAO,CAACS,IAAI,SAAJA,IAAI,kBAAAF,gBAAA,CAAJE,IAAI,CAAEQ,SAAS,CAAC,CAAC,CAAC,UAAAV,gBAAA,iBAAlBA,gBAAA,CAAoBW,cAAc,CAACC,IAAI,CAAC,SAAAC,CAAC,QAAI,IAAI,CAAAC,IAAI,CAACD,CAAC,CAACE,KAAK,CAACC,UAAU,CAAC,CAACC,OAAO,CAAC,CAAC,GAAC,CAAC,CAAC,wBAAAZ,QAAA,CAAAa,IAAA,MAAAnB,OAAA,GACjG,kBAJK,CAAAL,OAAOA,CAAA,SAAAC,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAIZ,CACD1B,OAAO,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIV,IAAA,CAAAE,SAAA,EAAAmC,QAAA,CAEI7B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE8B,GAAG,CAAC,SAAAP,KAAK,qBAAI/B,IAAA,CAACH,QAAQ,EAACkC,KAAK,CAAEA,KAAM,CAAE,CAAC,GAAC,CAEhD,CAAC,CAEX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}